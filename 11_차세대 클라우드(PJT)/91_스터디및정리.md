# # 스터디 및 정리

## 1. 컴퓨팅

### 1-1. 기존 CI 문제점

- 안정성
  - 장애시 전체 서비스 영향도 높음
  - 중앙 집중된 구성요소(스토리지)의 장애시 DR 전환 혹은 백업 복구 불가피
- 확장 편의성
  - 서버, SAN, 스토리지 각각의 확장으로 비균형적 확장 불가피
  - 장시간의 확장 구축 시간 필요
  - 확장 및 업그레이드 시 서비스 다운타임 발생 가능성 존재
- 운영 편의성
  - 각 구성요소 별 관리 도구 사용
  - 장애 처리 및 원인 파악의 어려움
  - 각 다른 벤더의 엔지니어
- 비용
  - ㅇ복잡한 구성 및 각기 다른 벤더의 제품으로 인한 도입, 유지보수 비용 높음 

### 1-2. HCI 장점

- 안정성
  - 장애시 전체 서비스 영향도 없음
  - 분산 아키텍처로 안정성 향상
- 확장 편의성
  - 필요한 만큼 증설 가능
  - 노드 추가만으로 성능 및 용량의 선형적인 증가를 보이는 스케일아웃 구조
  - 확장 구축 시간 최소화
  - 무중단 확장 및 업그레이드
- 운영 편의성
  - 서버/스토리지/하이퍼바이저의 통합 관리 도구
  - 통합 관리 도구의 사용으로 장애 처리 및 원인 파악 용이
- 비용
  - 단순한 통합 인프라 아키텍처로 인한 도입 및 유지보수 비용 절감
  - 상면, 전력량 절감



## 2. 네트워크

### 2-1. 분산 방화벽

- East-West 트래픽에 대한 하이퍼바이저 레벨에서 가상머신에 대한 보안 정책을 가상머신의 I/O 디바이스 단에서 직접 수행
- 가상머신이 다른 호스트로 이동하더라도 동일한 보안정책 유지



## 3. vRB

### 3-1. 기능

- vCenter, 퍼블릭 클라우드(Adv만) 계정 관리
- 감가상각 계산
- 가격 책정 편집 가능
- 데이터센터 최적화 정보 제공(Adv)
- 클라우드 및 데이터센터 전체 비용 비교 제공
- 보고서 생성
- 클라우드 전체의 지출 : 프라이빗 클라우드, AWS, Azure 등 계정 유형의 총 지출이 표시됩니다.
  각 색상을 마우스로 가리키면 특정 계정 유형의 총 지출이 표시됩니다. 예상 지출 값은 지난 6개월
  의 비용 활용도를 기반으로 계산됩니다

### 3-2. 수집, 비용

- 비용 계산은 매일 실행
- 데이터 수집기는 vCenter Server 인스턴스에 연결하여 인벤토리 데이터 및 사용량 통계를 수집
  - 인벤토리 데이터 및 사용량 통계를 수집한 후 vRealize Business for Cloud는 마지막 실행 작업의 타임 스탬프를 현지 시간으로 표시
- 퍼블릭 클라우드 연결은 인벤토리 및 사용량 데이터를 수집하도록 구성된 AWS 계정에 연결
  - 퍼블릭 클라우드 연결 정보는 계정을 구성한 후에만 나타납니다.
- VMware NSX Manager 수집기는 VMware NSX Manager에 연결되고 Edge Gateway와 연결된 모든 네트워크 서비스 인스턴스를 수집
- vCenter를 통해 인벤토리, 스토리지, 태그 및 사용량 통계 수집
- vRealize Automation 커넥터는 가상 시스템의 소비자에 대한 데이터를 Blueprint, 프로비저닝
  그룹 및 vRealize Automation의 IaaS 구성 요소 테넌트(IaaS가 구성된 경우)와 관련하여 수
  집

| vCenter       | 인벤토리              | 업데이트 후 즉시 |
| ------------- | --------------------- | ---------------- |
|               | 태그                  | 6시간마다        |
|               | vR Operations Manager | 30분마다         |
|               | 스토리지              | 12시간마다       |
|               | 샤용량 통계           | 24시간마다       |
| vR Automation |                       | 3시간 40분마다   |
| 퍼블릭        | AWS                   | 24시간마다       |
|               | Azure                 | 24시간마다       |
| NSX Manager   |                       | 5분마다          |

### 3-3. 프라이빗 클라우드 지출

- 하드웨어, 스토리지, 라이센싱, 유지보수, 노동, 네트워크, 시설, 추가비용으로 분류
- 프라이빗 클라우드 계정에 대한 당월의 총 예상 지출과 시간대별 비용 추세 확인 가능
- 데이터센터 지출  수정 가능
  - 입력한 내용에 따라 최종 지출 금액 계산
  - 지출 관련 입력을 수정하지 않으면 참조 데이터베이스로부터 기본값을 가져옴

### 3-4. 퍼블릭 지출

- 예상 총 월별 지출, 계정별 지출, 서비스별 지출 분포 및 가상 시스템 요약 확인 가능
- 총 지출 추세에는 청구 비용을 기반으로 12개월 동안의 총 지출 표시
- 전체 지출 : AWS 계정 전체의 월별 예상 지출 그래프 및 월별 지출 추세 표시
- 서비스 : 모든 계정의 다른 서비스 간에 배분된 예상 지출 그래프 표시
- 계정 : 각 계정에 대한 예상 지출 백분율 그래프 표시
- VM 개요 : 전체 가상 시스템 수와 월별 평균 지출이 그래프에 표시
  - 전원 상태(중지됨, 실행 중 또는 종료됨)를 기반으로 한 가상 시스템 수, 각 상태의 가상 시스템 수, 각 상태의 가상 시스템 비용도 표시
- EC2 및 EBS 서비스의 총 비용 및 운영 통계 표시

### 3-5. 네트워크 가격

- 네트워크 서비스의 고정 요금 및 반복 발생 요금 추가 가능
- 기본적으로 Edge GW, Elastic IP, Firewall, LB, VPN 5개의 서비스로 표시
- NSX Manager 및 vCenter 연결시, 추가 서비스 및 네트워크 트래픽(개수, 월간 누계 데이터 및 요금 세부 정보 포함) 목록 표시

- 책정 지원
  - BGP
  - 분산 방화벽
  - OSPF
  - DHCP
  - DNS
  - 방화벽
  - HA
  - IPSec
  - L2VPN
  - LB
  - NAT
  - 라우팅